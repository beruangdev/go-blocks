(()=>{"use strict";const e=window.wp.blocks,t=window.wp.data,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"gb/button-download","version":"0.0.1","title":"Download Button (Go Blocks)","category":"text","attributes":{"blockID":{"type":"string","default":""},"imageurl":{"type":"string","default":""},"imageid":{"type":"string","default":""},"imagealt":{"type":"string","default":""},"title":{"type":"string","default":"Title"},"description":{"type":"string","default":"Little description"},"url":{"type":"string","default":""},"version":{"type":"string","default":""},"system":{"type":"string","default":""},"fileSize":{"type":"string","default":""},"license":{"type":"string","default":""},"developer":{"type":"string","default":""},"currency":{"type":"string","default":""},"price":{"type":"string","default":""},"buttonText":{"type":"string","default":"Download"},"buttonColor":{"type":"string","default":"#313131"},"buttonHoverColor":{"type":"string","default":"#313131"},"buttonTextColor":{"type":"string","default":"#ffffff"},"buttonTextHoverColor":{"type":"string","default":"#ffffff"},"buttonRounded":{"type":"boolean","default":false},"addNofollow":{"type":"boolean","default":true},"openInNewTab":{"type":"boolean","default":true},"addSponsored":{"type":"boolean","default":true},"schemaApplicationCategory":{"type":"string","default":"GameApplication"},"buttonAlign":{"type":"string","default":"center"}},"supports":{"html":false,"multiple":false},"textdomain":"download-button","editorScript":"file:./block.jsx","viewScript":"file:./scripts/index.js"}'),o=window.wp.element,a=window.wp.blockEditor,n=(window.wp.i18n,window.React),{__}=wp.i18n,{RichText:i,MediaUpload:r,BlockControls:c,URLPopover:s,URLInput:p}=wp.blockEditor||wp.editor,{Button:u,ToggleControl:d,CheckboxControl:m,SelectControl:b,Popover:g,ToolbarGroup:v,ToolbarButton:f}=wp.components;let h=["core/annotation","core/bold","core/code","core/italic","core/strikethrough","core/underline","core/text-color","core/subscript","core/superscript","core/keyboard","dafunda-blocks/highlight"];function w(e){let{attributes:{title:t,description:l,imageurl:a,imageid:c,imagealt:s,url:p,buttonText:d,buttonColor:m,buttonHoverColor:b,buttonTextColor:g,buttonTextHoverColor:v,buttonRounded:f,addNofollow:w,openInNewTab:C,buttonAlign:y,addSponsored:k},setAttributes:x,isSelected:N}=e;const[S,T]=(0,n.useState)(!1);return(0,o.createElement)("div",{className:"download-button rounded-lg border border-slate-200 p-3 flex flex-wrap overflow-hidden"},(0,o.createElement)(E,e),(0,o.createElement)("div",{className:"basis-2/12"},a&&""!=a?(0,o.createElement)("figure",{className:"relative"},(0,o.createElement)("img",{className:"w-full aspect-square rounded-lg object-cover object-center",src:a}),(0,o.createElement)(A,{onClick:()=>{x({imagealt:"",imageid:"",imageurl:""})}})):(0,o.createElement)("div",{className:"cursor-pointer w-full aspect-square"},(0,o.createElement)(r,{onSelect:e=>{var t,l,o;x({imagealt:null!==(t=null==e?void 0:e.alt)&&void 0!==t?t:"",imageid:null!==(l=null==e?void 0:e.id)&&void 0!==l?l:"",imageurl:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:""})},allowedTypes:["image"],render:e=>{let{open:t}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"w-full h-full bg-[#EEEEEE] flex flex-wrap justify-center items-center",onClick:t},(0,o.createElement)("div",{className:"flex flex-wrap justify-center items-center text-[#999999] flex-col"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},(0,o.createElement)("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})),(0,o.createElement)("p",{className:"text-[#999999] m-0 text-xs"},"Tambahkan Media"))))}}))),(0,o.createElement)("div",{className:"basis-auto md:basis-7/12 ml-3"},(0,o.createElement)(i,{tagName:"p",multiline:!1,keepPlaceholderOnFocus:!0,placeholder:__("Title"),className:"m-0 text-lg font-semibold",value:t,allowedFormats:h,onChange:e=>x({title:e})}),(0,o.createElement)(i,{tagName:"p",allowedFormats:h,multiline:!1,keepPlaceholderOnFocus:!0,placeholder:__("Descriptions"),className:"m-0 text-sm",value:l,onChange:e=>x({description:e})})),(0,o.createElement)(u,{"aria-expanded":!0,"aria-haspopup":"true",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),className:`mt-3 md:mt-0 py-2 px-5 mx-auto md:ml-auto w-fit h-fit text-base font-bold text-white\n\t\t\t\t${"top"==y?"self-start":"bottom"==y?"self-end":"self-center"}\n\t\t\t\t${f?"rounded-lg":""}\n\t\t\t\t`,style:{backgroundColor:S?b:m}},(0,o.createElement)(i,{tagName:"span",multiline:!1,keepPlaceholderOnFocus:!0,placeholder:__("Download"),className:"m-0",allowedFormats:h,style:{color:S?v:g},value:d})))}function E(e){let{attributes:{title:t,description:l,imageurl:a,imageid:i,imagealt:r,url:s,buttonText:u,buttonColor:d,buttonHoverColor:b,buttonTextHoverColor:h,buttonRounded:w,addNofollow:E,openInNewTab:C,buttonAlign:A,addSponsored:y},setAttributes:k,isSelected:x}=e;const[N,S]=(0,n.useState)(!1);return!x&&N&&S(!1),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c,null,(0,o.createElement)(v,null,(0,o.createElement)(f,{icon:"admin-links",label:__("Add button link"),onClick:()=>S(!0)}))),N&&(0,o.createElement)(g,{className:"popover",position:"bottom"},(0,o.createElement)("div",{className:"button_popover"},(0,o.createElement)("div",{className:"button_url_input"},(0,o.createElement)("form",{onSubmit:e=>e.preventDefault(),className:"editor-format-toolbar__link-modal-line button_input_box flex-container"},(0,o.createElement)(p,{autoFocus:!1,multiline:!1,className:"button-url",value:s,onChange:e=>k({url:e})}))),(0,o.createElement)(m,{label:__("Open Link in New Tab","dafunda-blocks"),checked:C,onChange:e=>k({openInNewTab:e})}),(0,o.createElement)(m,{label:__("Add Nofollow to Link","dafunda-blocks"),checked:E,onChange:e=>k({addNofollow:e})}),(0,o.createElement)(m,{label:__("Mark link as sponsored","dafunda-blocks"),checked:y,onChange:e=>k({addSponsored:e})}))))}const{__:C}=wp.i18n;function A(e){let{onClick:t}=e;return(0,o.createElement)("span",{title:C("Delete image"),className:"dashicons dashicons-trash cursor-pointer absolute right-[10px] top-[10px] text-white bg-gray-900 hover:bg-gray-800 text-base p-1 w-auto h-auto rounded-lg leading-none transition duration-200 ease-in-out",onClick:t})}const y=JSON.parse('[{"label":"Game App","value":"GameApplication"},{"label":"Business App","value":"BusinessApplication "},{"label":"Multimedia App","value":"MultimediaApplication"},{"label":"Mobile App","value":"MobileApplication"},{"label":"Web App","value":"WebApplication"},{"label":"Social Networking App","value":"SocialNetworkingApplication"},{"label":"Travel App","value":"TravelApplication"},{"label":"Shopping App","value":"ShoppingApplication"},{"label":"Sports App","value":"SportsApplication"},{"label":"Lifestyle App","value":"LifestyleApplication"},{"label":"Design App","value":"DesignApplication "},{"label":"Developer App","value":"DeveloperApplication"},{"label":"Driver App","value":"DriverApplication"},{"label":"Educational App","value":"EducationalApplication"},{"label":"Health App","value":"HealthApplication"},{"label":"Finance App","value":"FinanceApplication "},{"label":"Security App","value":"SecurityApplication"},{"label":"Browser App","value":"BrowserApplication"},{"label":"Communication App","value":"CommunicationApplication"},{"label":"Business App","value":"EntertainmentApplication "},{"label":"Home App","value":"HomeApplication"},{"label":"Utilities App","value":"UtilitiesApplication"},{"label":"Reference App","value":"ReferenceApplication"}]'),{__:k}=wp.i18n,{InspectorControls:x,PanelColorSettings:N,useBlockProps:S,BlockVerticalAlignmentToolbar:T}=wp.blockEditor||wp.editor,{ToggleControl:B,PanelBody:D,SelectControl:H,TabPanel:z,TextControl:P}=wp.components;function I(e){let{attributes:{title:t,description:l,imageurl:a,imageid:n,imagealt:i,url:r,buttonText:c,buttonColor:s,buttonHoverColor:p,buttonTextColor:u,buttonTextHoverColor:d,buttonRounded:m,addNofollow:b,openInNewTab:g,buttonAlign:v,addSponsored:f,schemaApplicationCategory:h,version:w,system:E,fileSize:C,license:A,developer:I,currency:M,price:R},setAttributes:_}=e;return(0,o.createElement)(x,null,(0,o.createElement)(D,{title:k("Download Button Setting")},(0,o.createElement)(H,{label:k("Select a scheme type"),value:h,onChange:e=>_({schemaApplicationCategory:e}),options:y}),(0,o.createElement)(P,{label:"version",labelPosition:"top",value:w,type:"text",className:"capitalize mb-4",onChange:e=>{_({version:e})}}),(0,o.createElement)(P,{label:"system",labelPosition:"top",placeholder:"Android",value:E,type:"text",className:"capitalize mb-4",onChange:e=>_({system:e})}),(0,o.createElement)(P,{label:"file size",labelPosition:"top",placeholder:"7 MB",value:C,type:"text",className:"capitalize mb-4",onChange:e=>_({fileSize:e})}),(0,o.createElement)(P,{label:"license",labelPosition:"top",placeholder:"Freeware",value:A,type:"text",className:"capitalize mb-4",onChange:e=>_({license:e})}),(0,o.createElement)(P,{label:"developer",labelPosition:"top",placeholder:"Moon & Sun",value:I,type:"text",className:"capitalize mb-4",onChange:e=>_({developer:e})}),(0,o.createElement)(P,{label:"currency",labelPosition:"top",placeholder:"USD",value:M,type:"text",className:"capitalize mb-4",onChange:e=>_({currency:e})}),(0,o.createElement)(P,{label:"price",labelPosition:"top",placeholder:"5.12 or 6",value:R,type:"text",className:"capitalize mb-4",onChange:e=>_({price:e})})),(0,o.createElement)(D,{title:k("Button Style","dafunda-blocks")},(0,o.createElement)("div",S({style:{backgroundPosition:`center ${v}`},className:"m-0 mb-4"}),(0,o.createElement)("label",{className:"block mb-2"},"Button Align"),(0,o.createElement)(T,{value:v,onChange:e=>{_({buttonAlign:e})}})),(0,o.createElement)("div",null,(0,o.createElement)("label",{className:"block mb-2"},"Button Rounded"),(0,o.createElement)(B,{label:k("Button Rounded","dafunda-blocks"),checked:m,onChange:e=>_({buttonRounded:e})}))),(0,o.createElement)(z,{tabs:[{name:"buttoncolor",title:k("Normal")},{name:"buttonhovercolor",title:k("Hover")}]},(e=>(0,o.createElement)(N,{title:k("Button Colors","dafunda-blocks"),initialOpen:!0,colorSettings:"buttoncolor"===e.name?[{value:s,onChange:e=>_({buttonColor:e}),label:k("Button Color")},{value:u,onChange:e=>_({buttonTextColor:e}),label:k("Button Text Color")}]:[{value:p,onChange:e=>_({buttonHoverColor:e}),label:k("Button Color")},{value:d,onChange:e=>_({buttonTextHoverColor:e}),label:k("Button Text Color")}]}))))}const M=(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 100 100"},(0,o.createElement)("path",{d:"M73.157 31.836a24.296 24.296 0 00-8.841 5.535V8.841H8.841v82.318h54.665V100H0V0h73.157v31.836zM55.698 20.653H18.651v8.84h37.047v-8.84zm0 19.186H18.651v8.841h37.047v-8.841zM18.651 67.865h37.047v-8.841H18.651v8.841zm59.095 15.37A8.383 8.383 0 1077.747 100a8.383 8.383 0 00-.001-16.765zm5.489-4v-5.902C92.621 72.483 100 64.57 100 54.966c0-10.169-8.273-18.442-18.442-18.442s-18.442 8.273-18.442 18.442h11.36c0-3.904 3.177-7.081 7.082-7.081s7.082 3.177 7.082 7.081a7.09 7.09 0 01-7.082 7.082h-9.684v17.187h11.361z",fill:"#34495E"})),{name:R}=l;(0,e.registerBlockType)(R,{icon:M,edit:(0,t.withSelect)(((e,t)=>{const{getBlock:l,getClientIdsWithDescendants:o}=e("core/block-editor")||e("core/editor");return{block:l(t.clientId),getBlock:l,getClientIdsWithDescendants:o}}))((function(e){let{attributes:{blockID:t},setAttributes:l,block:i,getBlock:r,getClientIdsWithDescendants:c,isSelected:s}=e;return(0,n.useEffect)((()=>{(""===t||c().some((e=>"blockID"in r(e).attributes&&r(e).attributes.blockID===t)))&&l({blockID:i.clientId})}),[]),(0,o.createElement)("div",(0,a.useBlockProps)(),(0,o.createElement)(I,e),(0,o.createElement)(w,e))}))})})();